{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","serviceWorker.js","index.js","images/logo-header.svg"],"names":["Header","className","src","logoImage","alt","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","onClick","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","ImagePopup","isOpen","onClose","PopupWithForm","title","children","text","onSubmit","action","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","value","onChange","e","target","placeholder","required","minLength","maxLength","id","preventDefault","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","ref","defaultValue","current","AddPlacePopup","inputNameRef","inputLinkRef","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","statusText","info","body","JSON","stringify","cardId","authorization","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialsCards","data","catch","err","console","log","getUserInfo","Provider","handleCardClick","i","changeLikeCardStatus","newCard","newCards","c","removeCard","newArrCards","filter","element","setUserInfo","postCard","setUserAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.55e03d87.chunk.js","sourcesContent":["import React from 'react';\nimport logoImage from '../images/logo-header.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__header section\">\n      <img className=\"logo header__logo\" src={logoImage} alt=\"Логотип\" />\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer section\">\n      <p className=\"footer__copyright\">\n        &copy; 2020 Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = (card.owner._id === currentUser._id);\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'element__trash_active' : ''}`\n  );\n\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `${isLiked ? 'element__group_active' : ''}`\n  );\n  \n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"element\">\n      <button className=\"element__photo\" type=\"button\" onClick={handleClick}>\n        <img src={card.link} alt=\"фото\" className=\"element__image\" />\n      </button>\n      <div className=\"element__info-container\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like-container\">\n          <button className={`element__group ${cardLikeButtonClassName}`} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"element__counter\">{card.likes.length}</p>\n        </div>\n      </div>\n      <button className={`element__trash ${cardDeleteButtonClassName}`} type=\"button\" onClick={handleDeleteClick}></button>\n    </li>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile section content__section\">\n        <div className=\"profile__info\">\n          <button className=\"profile__image-button\" type=\"button\" onClick={onEditAvatar}>\n            <div className=\"profile__icon\"></div>\n            <img src={currentUser.avatar} alt=\"фото\" className=\"profile__image\" />\n          </button>\n          <div className=\"profile__edit\">\n            <div className=\"profile__text\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\n            </div>\n            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements section content__section\">\n        <ul className=\"elements__list\">\n          {cards && cards.map((card) =>\n            <Card \n              key={card._id} \n              card={card} \n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          )}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <div className={`modal modal_type_photo ${isOpen ? 'modal_opened' : ''}`}>\n      <div className=\"modal__container-photo\">\n        <button className=\"modal__close-button modal__close-button_type_photo\" type=\"button\" onClick={onClose}></button>\n        <img src={card.link} alt={card.name} className=\"modal__photo\" />\n        <p className=\"modal__text\">{card.name}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ name, title, children, text, isOpen, onClose, onSubmit }) {\n  return (\n    <div className={`modal modal_type_${name} ${isOpen ? 'modal_opened' : ''}`}>\n      <div className=\"modal__container\">\n        <button className=\"modal__close-button\" type=\"button\" onClick={onClose}></button>\n        <h2 className=\"modal__title\">{title}</h2>\n        <form className=\"modal__form\" onSubmit={onSubmit} action=\"#\" name={`modal_${name}_form`} noValidate>\n        {children}\n        <button type=\"submit\" className=\"modal__button modal__button_action\">{text}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm \n      name={'edit-profile'} \n      title={'Редактировать профиль'} \n      children={\n        <>\n          <label>\n            <input type=\"text\" value={name || ''} onChange={handleChangeName} className=\"modal__item modal__item_type_name\" name=\"name\" placeholder=\"ФИО\" required minLength=\"2\" maxLength=\"40\" />\n            <span id=\"name-error\" className=\"modal__item-error\"></span>\n          </label>\n          <label>\n            <input type=\"text\" value={description || ''} onChange={handleChangeDescription} className=\"modal__item modal__item_type_profession\" name=\"about\" placeholder=\"Профессия\" required minLength=\"2\" maxLength=\"200\" />\n            <span id=\"about-error\" className=\"modal__item-error\"></span>\n          </label>\n        </>\n      } \n      text={'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const inputRef = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n  } \n\n  return (\n    <PopupWithForm \n      name={'update-avatar'} \n      title={'Обновить аватар'} \n      children={\n        <>\n          <label>\n            <input ref={inputRef} type=\"url\" className=\"modal__item modal__item_type_avatar\" name=\"avatar\" defaultValue=\"\" placeholder=\"Ссылка на фото\" required />\n            <span id=\"avatar-error\" className=\"modal__item-error\"></span>\n          </label>\n        </>\n      } \n      text={'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const inputNameRef = React.useRef('');\n  const inputLinkRef = React.useRef('');\n  \n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: inputNameRef.current.value,\n      link: inputLinkRef.current.value\n    });\n  } \n\n  return (\n    <PopupWithForm \n      name={'add-card'} \n      title={'Новое место'} \n      children={\n        <>\n          <label>\n            <input ref={inputNameRef} type=\"text\" className=\"modal__item modal__item_type_place\" name=\"name\" defaultValue=\"\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" />\n            <span id=\"name-error\" className=\"modal__item-error\"></span>\n          </label>\n          <label>\n            <input ref={inputLinkRef} type=\"url\" className=\"modal__item modal__item_type_link-place\" name=\"link\" defaultValue=\"\" placeholder=\"Ссылка на картинку\" required />\n            <span id=\"link-error\" className=\"modal__item-error\"></span>\n          </label>\n        </>\n      } \n      text={'Создать'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default AddPlacePopup;","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialsCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'GET',\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  } \n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'GET',\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  setUserInfo(info) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(info)\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(link)\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  postCard(card) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(card)\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  removeCard(id) {\n    return fetch(`${this._baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n\n  changeLikeCardStatus(cardId, status) {\n    return fetch(`${this._baseUrl}cards/likes/${cardId}`, {\n      method: (status) ? 'PUT' : 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-15/',\n  headers: {\n    authorization: 'fa7c1664-18f3-41d8-b132-37b50e07ed81',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","import React from 'react';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport ImagePopup from './ImagePopup.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport api from '../utils/api.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setImagePopupOpen(false);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then((info) => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\nfunction handleUpdateAvatar(link) {\n  api.setUserAvatar(link)\n      .then((link) => {\n        setCurrentUser(link);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n}\n\nfunction handleCardLike(card) {\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => console.log(err));\n}\n\nfunction handleCardDelete(card) {\n  api.removeCard(card._id)\n    .then(() => {\n      const newArrCards = cards.filter(element => element !== card);\n      setCards(newArrCards);\n    })\n    .catch((err) => console.log(err));\n}\n\nfunction handleAddPlaceSubmit(card) {\n  api.postCard(card)\n    .then((card) => {\n      setCards([...cards, card]);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n\n}\n\nReact.useEffect(() => {\n  api.getInitialsCards()\n    .then((data) => {\n      setCards(data)\n    })\n    .catch((err) => console.log(err));\n}, []);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then((info) => {\n        setCurrentUser(info);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header />\n            <Main \n            onEditAvatar={() => {\n              handleEditAvatarClick();\n            }}\n            onEditProfile={() => {\n              handleEditProfileClick();\n            }}\n            onAddPlace={() => {\n              handleAddPlaceClick();\n            }}\n            onCardClick={(card) => {\n              handleCardClick(card);\n            }}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            />\n            <Footer />\n          </div>\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <PopupWithForm \n            name={'confirm'} \n            title={'Вы уверены?'} \n            text={'Да'} \n          />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} /> \n          <ImagePopup \n            card={selectedCard}\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo-header.2b1f7ee5.svg\";"],"sourceRoot":""}